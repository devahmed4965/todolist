<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฅูููุฌุฑุงููู: ุงุชุฌุงูุงุช ุตูุงุนุฉ ุงููุญุชูู ุงูุฌูุณู ูุฃุจุญุงุซ ุงูุณูู</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Visualization Choices:
        - ุญุฌู ุณูู ุงูุฅุจุงุญูุฉ ูู ุงูููุงูุงุช ุงููุชุญุฏุฉ (IV.B): ุงููุฏู: ุฅุนูุงู. ุงูุชุตูุฑ: ุฑูู ูุจูุฑ (ูุต HTML). ุงูุชุจุฑูุฑ: ุฅุจุฑุงุฒ ุฅุญุตุงุฆูุฉ ุฑุฆูุณูุฉ. (ูุง SVG)
        - ููู ุณูู ุงูุชุฑููู ููุจุงูุบูู ุงูุนุงููู (IV.B): ุงููุฏู: ุชุบููุฑ. ุงูุชุตูุฑ: ูุฎุทุท ุฎุทู (Chart.js). ุงูุชุจุฑูุฑ: ุนุฑุถ ุชููุนุงุช ุงูููู. (ูุง SVG)
        - ุงููุงุนุจูู ุงูุฑุฆูุณููู ูู ุตูุงุนุฉ ุงูุฅุจุงุญูุฉ (IV.B): ุงููุฏู: ุชูุธูู. ุงูุชุตูุฑ: ูุงุฆูุฉ HTML ููุณูุฉ. ุงูุชุจุฑูุฑ: ุนุฑุถ ุงููุงุนููู ูู ุงูุณูู. (ูุง SVG)
        - ููุงุฐุฌ ุฃุนูุงู ุตูุงุนุฉ ุงูุฅุจุงุญูุฉ (IV.B): ุงููุฏู: ุชูุธูู. ุงูุชุตูุฑ: ูุฎุทุท ุชุฏูู ูุจุณุท (HTML/CSS). ุงูุชุจุฑูุฑ: ุชูุถูุญ ุงูุนูููุงุช ุงูุชุฌุงุฑูุฉ. (ูุง SVG)
        - ุงูุชุดุงุฑ ุงูุฅุจุงุญูุฉ ุนูู ุงูุฅูุชุฑูุช (IV.A): ุงููุฏู: ุฅุนูุงู. ุงูุชุตูุฑ: ูุฎุทุท ุฏุงุฆุฑู ูุฌูู (Chart.js). ุงูุชุจุฑูุฑ: ุนุฑุถ ูุณุจุฉ ุงูุชุดุงุฑ ููุงูุน ุงูุฅุจุงุญูุฉ. (ูุง SVG)
        - ุชุทูุฑ ุชูููููุฌูุง ุงูุฅุจุงุญูุฉ (IV.B, IV.C): ุงููุฏู: ุชุบููุฑ/ุชูุธูู. ุงูุชุตูุฑ: ุฎุท ุฒููู ูุจุณุท (HTML/CSS). ุงูุชุจุฑูุฑ: ุนุฑุถ ุงูุชุทูุฑ ุงูุชูููููุฌู. (ูุง SVG)
        - ููุงูู ุงูุดุจุงุจ ุชุฌุงู ุงูุฅุจุงุญูุฉ (IV.A): ุงููุฏู: ููุงุฑูุฉ. ุงูุชุตูุฑ: ูุฎุทุท ุดุฑูุทู (Chart.js). ุงูุชุจุฑูุฑ: ุนุฑุถ ุชุบูุฑ ุงูููุงูู ุงูุฃุฎูุงููุฉ (ุจูุงูุงุช ุชูุถูุญูุฉ ูุณุชูุญุงุฉ ูู ุงููุต). (ูุง SVG)
        - ุงูุฃุฌูุฏุงุช ุงููุชูุงูุณุฉ (IV.D): ุงููุฏู: ุนูุงูุงุช. ุงูุชุตูุฑ: ูุฎุทุท ููุงูููู (HTML/CSS). ุงูุชุจุฑูุฑ: ุฅุธูุงุฑ ุงูููู ุงููุชูุงุนูุฉ ูู ุงูุณูู. (ูุง SVG)
        - โจ ุชูููุฏ ุชููุนุงุช ูุณุชูุจููุฉ ุฅุถุงููุฉ (ุงูุฎูุงุตุฉ): ุงููุฏู: ุฅุนูุงู/ุชุญููู. ุงูุชุตูุฑ: ูุต ูููุฏ ุจูุงุณุทุฉ Gemini API ูู ูุงูุฐุฉ ููุจุซูุฉ. ุงูุชุจุฑูุฑ: ุชูุฏูู ุฑุคู ุฅุถุงููุฉ. (Gemini API)
        - โจ ุดุฑุญ ุงูุงุชุฌุงู (ุชุทูุฑ ุงูุชูููููุฌูุง): ุงููุฏู: ุฅุนูุงู. ุงูุชุตูุฑ: ูุต ูููุฏ ุจูุงุณุทุฉ Gemini API ูู ูุงูุฐุฉ ููุจุซูุฉ. ุงูุชุจุฑูุฑ: ุชุจุณูุท ุงูููุงููู ุงููุนูุฏุฉ. (Gemini API)
    -->
    <style>
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #FFFFFF; /* Tailwind: white */
            color: #212121; /* Tailwind: gray-900 */
        }
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap');

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px; /* Example max-width */
            margin-left: auto;
            margin-right: auto;
            height: 300px; /* Base height */
            max-height: 400px; /* Max height */
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .section-title {
            @apply text-3xl font-bold text-indigo-900 mb-8 pb-3 border-b-4 border-orange-500;
        }
        .subsection-title {
            @apply text-2xl font-semibold text-indigo-800 mt-8 mb-4;
        }
        .card {
            @apply bg-gray-100 p-6 rounded-xl shadow-lg transition-all duration-300 hover:shadow-2xl;
        }
        .stat-card {
            @apply bg-blue-500 text-white p-6 rounded-xl shadow-lg text-center;
        }
        .stat-number {
            @apply text-4xl font-bold block;
        }
        .stat-label {
            @apply text-lg mt-2 block;
        }
        .flowchart-step {
            @apply bg-indigo-100 text-indigo-800 p-3 rounded-lg shadow-md text-center min-w-[120px] mx-2;
        }
        .flowchart-arrow {
            @apply text-3xl text-orange-500 mx-2 flex items-center;
        }
        .timeline-item {
            @apply relative ps-8 mb-6;
        }
        .timeline-dot {
            @apply absolute w-4 h-4 bg-orange-500 rounded-full top-1 -right-2 border-2 border-white;
        }
        .timeline-content {
            @apply bg-indigo-50 p-4 rounded-lg shadow;
        }
        .nav-item {
            @apply px-4 py-2 text-indigo-700 hover:text-orange-500 font-semibold transition-colors;
        }
        .nav-item.active {
            @apply text-orange-600 border-b-2 border-orange-600;
        }
        .footer {
            @apply bg-indigo-900 text-gray-200 text-center p-6 mt-12;
        }
        .gemini-button {
            @apply mt-4 px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-md shadow-sm hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed;
        }
        .modal {
            @apply fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center hidden z-[100];
        }
        .modal-content-wrapper {
            @apply relative mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white;
        }
        .modal-title {
            @apply text-lg leading-6 font-medium text-gray-900;
        }
        .modal-body {
            @apply mt-2 px-7 py-3 text-sm text-gray-700 leading-relaxed max-h-[60vh] overflow-y-auto;
        }
        .modal-button {
            @apply px-4 py-2 bg-orange-500 text-white text-base font-medium rounded-md w-full shadow-sm hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-300;
        }
        .loading-spinner {
            @apply animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto;
        }
    </style>
</head>
<body class="antialiased leading-relaxed">

    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-indigo-900">ุงุชุฌุงูุงุช ุตูุงุนุฉ ุงููุญุชูู ุงูุฌูุณู</h1>
            <div class="hidden md:flex space-x-reverse space-x-1">
                <a href="#introduction" class="nav-item active">ููุฏูุฉ</a>
                <a href="#normalization" class="nav-item">ุตุนูุฏ ุงูุชุทุจูุน</a>
                <a href="#porn-industry" class="nav-item">ุณูู ุงูุฅุจุงุญูุฉ</a>
                <a href="#technology" class="nav-item">ุฏูุฑ ุงูุชูููููุฌูุง</a>
                <a href="#consumer-impact" class="nav-item">ุงููุณุชููู ูุงููุฌุชูุน</a>
                <a href="#agendas" class="nav-item">ุงูุฃุฌูุฏุงุช ุงููุชูุงูุณุฉ</a>
                <a href="#conclusion" class="nav-item">ุงูุฎูุงุตุฉ</a>
            </div>
            <div class="md:hidden">
                <button id="mobile-menu-button" class="text-indigo-900 focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
        </nav>
        <div id="mobile-menu" class="md:hidden hidden bg-white shadow-lg py-2">
            <a href="#introduction" class="block px-4 py-2 text-indigo-700 hover:bg-indigo-100">ููุฏูุฉ</a>
            <a href="#normalization" class="block px-4 py-2 text-indigo-700 hover:bg-indigo-100">ุตุนูุฏ ุงูุชุทุจูุน</a>
            <a href="#porn-industry" class="block px-4 py-2 text-indigo-700 hover:bg-indigo-100">ุณูู ุงูุฅุจุงุญูุฉ</a>
            <a href="#technology" class="block px-4 py-2 text-indigo-700 hover:bg-indigo-100">ุฏูุฑ ุงูุชูููููุฌูุง</a>
            <a href="#consumer-impact" class="block px-4 py-2 text-indigo-700 hover:bg-indigo-100">ุงููุณุชููู ูุงููุฌุชูุน</a>
            <a href="#agendas" class="block px-4 py-2 text-indigo-700 hover:bg-indigo-100">ุงูุฃุฌูุฏุงุช ุงููุชูุงูุณุฉ</a>
            <a href="#conclusion" class="block px-4 py-2 text-indigo-700 hover:bg-indigo-100">ุงูุฎูุงุตุฉ</a>
        </div>
    </header>

    <main class="container mx-auto px-6 py-8">

        <section id="introduction" class="my-12">
            <h2 class="section-title">ููุฏูุฉ: ุชุทูุฑ ูุดูุฏ ุงููุญุชูู ุงูุฌูุณู</h2>
            <p class="text-lg text-gray-700 mb-4">ูุดูุฏ ุนุงูู ุงููุญุชูู ุงูุฌูุณู ูุงูุฃูุนุงุจ ุงูุฌูุณูุฉ ุชุญููุงุช ุณุฑูุนุฉ ูุฏููุนุฉ ุจุงูุชูุฏู ุงูุชูููููุฌูุ ูุชุบูุฑ ุงููุนุงููุฑ ุงูุซูุงููุฉุ ูุฏููุงููููุงุช ุงูุณูู ุงููุนูุฏุฉ. ูุณุชุนุฑุถ ูุฐุง ุงูุฅูููุฌุฑุงููู ุฃุจุฑุฒ ุงุชุฌุงูุงุช ูุฐู ุงูุตูุงุนุงุชุ ุญุฌู ุฃุณูุงููุงุ ุงุณุชุฑุงุชูุฌูุงุชูุงุ ูุชุฃุซูุฑูุง ุงููุฌุชูุนูุ ุงุณุชูุงุฏูุง ุฅูู ุชุญููู ููุฏู ููุจูุงูุงุช ูุงูุฃุฌูุฏุงุช ุงูุณุงุฆุฏุฉุ ูุน ุงูุชุฑููุฒ ุนูู ุงูุณูุงู ุงูุฃูุฑููู ูุชุฃุซูุฑู ุงูุนุงููู.</p>
            <p class="text-lg text-gray-700">ููุฏู ูุฐุง ุงูุนุฑุถ ุฅูู ุชูุฏูู ููู ูุจุณุท ูุณูู ูุฃุจุนุงุฏ ูุฐู ุงูุตูุงุนุงุชุ ูุณูุทูุง ุงูุถูุก ุนูู ุงูููู ุงูุงูุชุตุงุฏูุฉ ูุงูุซูุงููุฉ ุงูุชู ุชุดูููุง ูุชุชุฃุซุฑ ุจูุง.</p>
        </section>

        <section id="normalization" class="my-16">
            <h2 class="section-title">ุตุนูุฏ ุงูุชุทุจูุน: ุงุชุฌุงูุงุช ูุฌุชูุนูุฉ ูุณูููุฉ</h2>
            <p class="text-lg text-gray-700 mb-6">ูููุงุญุธ ุงุชุฌุงู ูุชุฒุงูุฏ ูุญู ุชุทุจูุน ูู ูู ุงูุงุณุชููุงุก ูุงุณุชููุงู ุงูุฅุจุงุญูุฉุ ูุฏููุนูุง ุจุนูุงูู ุซูุงููุฉ ูุชุฌุงุฑูุฉ. ูุฐุง ุงูุชุทุจูุน ูู ุขุซุงุฑ ูุจุงุดุฑุฉ ุนูู ุณููู ุงููุณุชููู ูุฏููุงููููุงุช ุงูุณูู.</p>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="card">
                    <h3 class="subsection-title">ุชุทุจูุน ุงูุงุณุชููุงุก</h3>
                    <p class="text-gray-700 mb-3">ูุญุธู ุงูุงุณุชููุงุก ุจูุจูู ูุชุฒุงูุฏ ููููุธุฑ ุฅููู ููุดุงุท ุตุญู ูุฌุฒุก ูู ุงูุฑุนุงูุฉ ุงูุฐุงุชูุฉ. ุชุณุงูู ุตูุงุนุฉ ุงูุฃูุนุงุจ ุงูุฌูุณูุฉ ุจูุดุงุท ูู ูุฐุง ุงูุงุชุฌุงู ูู ุฎูุงู ุชุณููู ููุชุฌุงุชูุง ูุฃุฏูุงุช ููุนุงููุฉุ ุญุชู ุฃู ูุจุฑู ูุชุงุฌุฑ ุงูุชุฌุฒุฆุฉ ุจุฏุฃุช ูู ุนุฑุถูุง.</p>
                    <p class="text-gray-600 text-sm">ุงููุตุฏุฑ: (IV.A ูู ุงูุชูุฑูุฑ)</p>
                </div>
                <div class="card">
                    <h3 class="subsection-title">ุชุทุจูุน ุงูุฅุจุงุญูุฉ</h3>
                    <p class="text-gray-700 mb-3">ุฃุตุจุญ ุงุณุชููุงู ุงูุฅุจุงุญูุฉ ุฃูุฑูุง ุดุงุฆุนูุงุ ุฎุงุตุฉ ูู ุฃูุฑููุง ุงูุดูุงููุฉ ูุฃูุฑูุจุง ุงูุบุฑุจูุฉุ ูููุนุฒู ุฐูู ูุณูููุฉ ุงููุตูู ุนุจุฑ ุงูุฅูุชุฑูุช ูุงููุจูู ุงููุฌุชูุนู. "ุฅุจุงุญุฉ" ูุณุงุฆู ุงูุฅุนูุงูุ ุฃู ุฒูุงุฏุฉ ุงูุตุฑุงุญุฉ ุงูุฌูุณูุฉ ูู ุงูุฅุนูุงู ุงูุนุงูุ ุชุณุงูู ูู ูุฐุง ุงูุชุทุจูุน.</p>
                    <div class="mt-4">
                        <p class="text-gray-700 font-semibold mb-2">ุงูุชุดุงุฑ ููุงูุน ุงูุฅุจุงุญูุฉ (ุชูุฏูุฑู):</p>
                        <div class="chart-container h-64 md:h-72">
                            <canvas id="pornWebsitePercentageChart"></canvas>
                        </div>
                        <p class="text-center text-sm text-gray-600 mt-2">ููุซู ูุฐุง ุงููุฎุทุท ูุณุจุฉ ููุงูุน ุงูููุจ ุงูุชู ูู ุฅุจุงุญูุฉุ ุงุณุชูุงุฏูุง ุฅูู ุจูุงูุงุช ุงูุชูุฑูุฑ (IV.A).</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="porn-industry" class="my-16">
            <h2 class="section-title">ุตูุงุนุฉ ุงูุฅุจุงุญูุฉ: ูุธุฑุฉ ุนูููุฉ ุนูู ุงูุณูู</h2>
            <p class="text-lg text-gray-700 mb-6">ุชูุนุฏ ุตูุงุนุฉ ุงูุฅุจุงุญูุฉ ููุฉ ุงูุชุตุงุฏูุฉ ูุคุซุฑุฉ ุฐุงุช ุงุณุชุฑุงุชูุฌูุงุช ุชุณููู ูุชุทูุฑุฉ ูููุงุฐุฌ ุฃุนูุงู ูุชููุนุฉ.</p>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-8">
                <div class="stat-card bg-indigo-600">
                    <span class="stat-number">1.15 ูููุงุฑ $</span>
                    <span class="stat-label">ุฅูุฑุงุฏุงุช ุตูุงุนุฉ ููุงูุน ุงูุฅุจุงุญูุฉ ูู ุงูููุงูุงุช ุงููุชุญุฏุฉ (2023)</span>
                    <p class="text-xs mt-1">(ุงููุตุฏุฑ: IV.B)</p>
                </div>
                <div class="stat-card bg-orange-500">
                    <span class="stat-number">287.8 ูููุงุฑ $</span>
                    <span class="stat-label">ูููุฉ ุณูู ุงูุชุฑููู ููุจุงูุบูู ุงูุนุงููู (2023)</span>
                    <p class="text-xs mt-1">(ุงููุตุฏุฑ: IV.B)</p>
                </div>
                <div class="stat-card bg-blue-600 md:col-span-2 lg:col-span-1">
                    <span class="stat-number">8.6%</span>
                    <span class="stat-label">ูุนุฏู ุงูููู ุงูุณููู ุงููุฑูุจ ุงููุชููุน ูุณูู ุงูุชุฑููู ููุจุงูุบูู ุงูุนุงููู (ุญุชู 2034)</span>
                    <p class="text-xs mt-1">(ุงููุตุฏุฑ: IV.B)</p>
                </div>
            </div>

            <div class="card mb-8">
                <h3 class="subsection-title">ููู ุณูู ุงูุชุฑููู ููุจุงูุบูู ุงูุนุงููู</h3>
                <div class="chart-container h-80 md:h-96">
                    <canvas id="globalMarketGrowthChart"></canvas>
                </div>
                <p class="text-center text-sm text-gray-600 mt-2">ููุถุญ ูุฐุง ุงููุฎุทุท ุงูููู ุงููุชููุน ูุณูู ุงูุชุฑููู ููุจุงูุบูู ุงูุนุงููู ุจูุงุกู ุนูู ุงูุจูุงูุงุช ุงููุงุฑุฏุฉ ูู ุงูุชูุฑูุฑ (IV.B).</p>
            </div>
            
            <div class="grid md:grid-cols-2 gap-8">
                <div class="card">
                    <h3 class="subsection-title">ููุงุฐุฌ ุงูุฃุนูุงู ูุงุณุชุฑุงุชูุฌูุงุช ุงูุชุณููู</h3>
                    <p class="text-gray-700 mb-4">ุชุทูุฑุช ููุงุฐุฌ ุงูุฃุนูุงู ูู ุฏูุฑ ุงูุณูููุง ุฅูู ุงูุจุซ ุนุจุฑ ุงูุฅูุชุฑูุชุ ูุน ุชุญููู ุงูุฏุฎู ุนุจุฑ ุงูุงุดุชุฑุงูุงุชุ ุงูุฅุนูุงูุงุชุ ูุงูุฏูุน ููุงุจู ุงููุดุงูุฏุฉุ ูููุตุงุช ุงููุจุฏุนูู. ููุณุชุฎุฏู ุงููุญุชูู ุงููุฌุงูู ูุงุณุชุฑุงุชูุฌูุฉ ูุฌุฐุจ ุงููุณุชุฎุฏููู.</p>
                    <div class="flex flex-col sm:flex-row justify-center items-center space-y-2 sm:space-y-0 sm:space-x-reverse sm:space-x-2 overflow-x-auto py-2">
                        <div class="flowchart-step">ูุญุชูู ูุฌุงูู</div>
                        <div class="flowchart-arrow">โ</div>
                        <div class="flowchart-step">ุฌุฐุจ ุงููุณุชุฎุฏููู</div>
                        <div class="flowchart-arrow">โ</div>
                        <div class="flowchart-step">ููุงุฐุฌ ุฑุจุญ ูุชููุนุฉ (ุงุดุชุฑุงูุ ุฅุนูุงู)</div>
                    </div>
                    <p class="text-gray-700 mt-4">ุชุดูู ุงุณุชุฑุงุชูุฌูุงุช ุงูุชุณููู ูุนุงููุฉ ุงูุฅุจุงุญูุฉ ูู"ุนูู ุชุฌุงุฑู ุนุงุฏู"ุ ุงุณุชุฎุฏุงู ูุณุงุฆู ุงูุชูุงุตู ุงูุงุฌุชูุงุนูุ ุชุญููู ุณููู ุงููุณุชูููุ ูุงูุชุฑููุฒ ุนูู ุงูุงุจุชูุงุฑ ุงูุชูููููุฌู.</p>
                     <p class="text-gray-600 text-sm mt-2">ุงููุตุฏุฑ: (IV.B)</p>
                </div>
                <div class="card">
                    <h3 class="subsection-title">ุฃุจุฑุฒ ุงููุงุนุจูู ูู ุงูุณูู</h3>
                    <p class="text-gray-700 mb-3">ุชูููู ุดุฑูุงุช ููููุฉ ุนูู ุฌุฒุก ูุจูุฑ ูู ุณูู ุงูุฅุจุงุญูุฉ ุงูุนุงููู. ูู ุจูู ุงููุงุนุจูู ุงูุฑุฆูุณููู ุงููุฐููุฑูู ูู ุงูุชูุฑูุฑ:</p>
                    <ul class="list-disc ps-5 text-gray-700 space-y-1">
                        <li>AVN Media Network</li>
                        <li>Aylo (MindGeek ุณุงุจููุง - ูุงููุฉ Pornhub, YouPorn, RedTube)</li>
                        <li>OnlyFans</li>
                        <li>Vivid Entertainment</li>
                        <li>xHamster</li>
                        <li>Xvideos</li>
                    </ul>
                    <p class="text-gray-600 text-sm mt-2">ุงููุตุฏุฑ: (IV.B)</p>
                </div>
            </div>
        </section>

        <section id="technology" class="my-16">
            <h2 class="section-title">ุงูุชูููููุฌูุง: ุงููุญูุฒ ูุงููุบูุฑ ุงูุฃูุจุฑ</h2>
            <p class="text-lg text-gray-700 mb-6">ุชูุนุจ ุงูุชูููููุฌูุง ุฏูุฑูุง ูุญูุฑููุง ูู ุฅูุชุงุฌุ ุชูุฒูุนุ ูุงุณุชููุงู ุงููุญุชูู ุงูุฌูุณูุ ูุชุฏูุน ุจุงุณุชูุฑุงุฑ ุญุฏูุฏ ุงูุตูุงุนุฉ.</p>
            <div class="card">
                <h3 class="subsection-title">ุชุทูุฑ ุชูููููุฌูุง ุงูุฅุจุงุญูุฉ</h3>
                <div class="relative">
                    <div class="border-r-2 border-indigo-200 absolute h-full top-0 right-2 z-0"></div>
                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <h4 class="font-semibold text-indigo-700">ุฏูุฑ ุงูุณูููุง ูุงูุฃููุงู ุงููุทุจูุนุฉ</h4>
                            <p class="text-sm text-gray-600">ุงููุฑุงุญู ุงูุฃููู ููุตูุงุนุฉ.</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <h4 class="font-semibold text-indigo-700">ุฃุดุฑุทุฉ ุงูููุฏูู (VHS)</h4>
                            <p class="text-sm text-gray-600">ุฒูุงุฏุฉ ุงูุฎุตูุตูุฉ ูุฅููุงููุฉ ุงููุตูู ุงูููุฒูู.</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="flex justify-between items-center">
                                <h4 class="font-semibold text-indigo-700">ุงูุฅูุชุฑูุช ูุงูุจุซ ุงููุจุงุดุฑ</h4>
                                <button class="gemini-button text-xs px-2 py-1" data-gemini-prompt-key="internet_streaming_impact">โจ ุดุฑุญ ูุฐุง ุงูุงุชุฌุงู</button>
                            </div>
                            <p class="text-sm text-gray-600 mt-1">ุซูุฑุฉ ูู ุงูุชูุฒูุนุ ูุญุชูู ูุฌุงููุ ูุณูููุฉ ูุตูู ุนุงูููุฉ.</p>
                        </div>
                    </div>
                     <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <h4 class="font-semibold text-indigo-700">ุงูููุงุชู ุงูุฐููุฉ ููุณุงุฆู ุงูุชูุงุตู</h4>
                            <p class="text-sm text-gray-600">ูุตูู ููุฑู ููู ูู ููุงูุ ููุตุงุช ุฌุฏูุฏุฉ ููุดุฑ ุงููุญุชูู.</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                             <div class="flex justify-between items-center">
                                <h4 class="font-semibold text-indigo-700">ุงูุชูููุงุช ุงููุงุดุฆุฉ (VR, AR, AI)</h4>
                                <button class="gemini-button text-xs px-2 py-1" data-gemini-prompt-key="emerging_tech_impact">โจ ุดุฑุญ ูุฐุง ุงูุงุชุฌุงู</button>
                            </div>
                            <p class="text-sm text-gray-600 mt-1">ุชุฌุงุฑุจ ุบุงูุฑุฉุ ูุญุชูู ููุฎุตุตุ ูุชุญุฏูุงุช ุฃุฎูุงููุฉ ุฌุฏูุฏุฉ (ูุซู ุงูุชุฒููู ุงูุนููู).</p>
                        </div>
                    </div>
                </div>
                <p class="text-gray-600 text-sm mt-4">ุงููุตุฏุฑ: (IV.B, IV.C)</p>
            </div>
        </section>

        <section id="consumer-impact" class="my-16">
            <h2 class="section-title">ุงููุดูุฏ ุงูุงุณุชููุงูู ูุงูุชุฃุซูุฑ ุงููุฌุชูุนู</h2>
            <p class="text-lg text-gray-700 mb-6">ูุคุซุฑ ุงูุชุดุงุฑ ุงููุญุชูู ุงูุฌูุณู ุนูู ุณููููุงุช ุงููุณุชูููููุ ุฎุงุตุฉ ุงูุดุจุงุจุ ููุซูุฑ ููุงุดุงุช ุญูู ุงูุตุญุฉ ุงูุนุงูุฉ ูุงูุฃุทุฑ ุงูุชูุธูููุฉ.</p>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="card">
                    <h3 class="subsection-title">ุชุนุฑุถ ุงูุดุจุงุจ ูุชุบูุฑ ุงูููุงูู</h3>
                    <p class="text-gray-700 mb-3">ูุชุนุฑุถ ุงูุดุจุงุจ ูู ุงูููุงูุงุช ุงููุชุญุฏุฉ ููุฅุจุงุญูุฉ ูู ุณู ูุจูุฑุฉ ูุจุดูู ูุชูุฑุฑ. ุชุชุบูุฑ ุงูุฃุญูุงู ุงูุฃุฎูุงููุฉุ ุญูุซ ููู ุงุญุชูุงู ุงุนุชุจุงุฑ ุงูุดุจุงุจ ุงูุจุงูุบูู ููุง ุฎุทุฃ ุฃุฎูุงูููุง ููุงุฑูุฉ ุจุงูุฃุฌูุงู ุงูุฃูุจุฑ ุณููุง.</p>
                    <div class="chart-container h-72 md:h-80">
                        <canvas id="youthAttitudesChart"></canvas>
                    </div>
                    <p class="text-center text-sm text-gray-600 mt-2">ูุฎุทุท ุชูุถูุญู ูููุงูู ุงูุฃุฌูุงู ุงููุฎุชููุฉ ุชุฌุงู ุงูุฅุจุงุญูุฉ (ูุณุชูุญู ูู IV.A).</p>
                </div>
                <div class="card">
                    <h3 class="subsection-title">ุงูุงุณุชุฎุฏุงู ุงูุฅุดูุงูู ูุงูุตุญุฉ ุงูุนุงูุฉ</h3>
                    <p class="text-gray-700 mb-3">ูุซูุฑ ุงูุงุณุชุฎุฏุงู ุงูููุฑู ููุฅุจุงุญูุฉ ูุฎุงูู ุตุญูุฉ ูููุณูุฉ ูุงุฌุชูุงุนูุฉ. ุชุนุชุจุฑ ุจุนุถ ุงูููุงูุงุช ุงูุฃูุฑูููุฉ ุงูุฅุจุงุญูุฉ "ุฃุฒูุฉ ุตุญูุฉ ุนุงูุฉ"ุ ุฑุบู ุงูุฌุฏู ุงูุนููู ุญูู ูุฐุง ุงูุชุตููู ูุนุงูุฉ ุงูุณูุงู.</p>
                    <ul class="list-disc ps-5 text-gray-700 space-y-1 mt-3">
                        <li>ุฃุนุฑุงุถ ุงูุงุณุชุฎุฏุงู ุงูุฅุดูุงูู ุชุดูู: ููุฏุงู ุงูุณูุทุฑุฉุ ุงูุชุญููุ ุฃุนุฑุงุถ ุงูุงูุณุญุงุจ. (III.A.1)</li>
                        <li>ููุธูุฉ ุงูุตุญุฉ ุงูุนุงูููุฉ ุชุนุชุฑู ุจู "ุงุถุทุฑุงุจ ุงูุณููู ุงูุฌูุณู ุงูููุฑู" (CSBD). (III.A.1)</li>
                        <li>ุชุฃุซูุฑุงุช ุงุณุชุฎุฏุงู ุงูุฅุจุงุญูุฉ ูุฎุชูุทุฉ ูุบูุฑ ูุฑุชุจุทุฉ ุจุดูู ุนุงู ุจุงูุฎูู ุงููุธููู ููุนุธู ุงููุงุณ. (IV.D.2)</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="agendas" class="my-16">
            <h2 class="section-title">ุงูุฃุฌูุฏุงุช ุงููุชูุงูุณุฉ: ููู ุงูุณูู ุงููุงุนูุฉ</h2>
            <p class="text-lg text-gray-700 mb-6">ูุชุดูู ุณูู ุงููุญุชูู ุงูุฌูุณู ุจูุนู ุชูุงุนู ุงูุนุฏูุฏ ูู "ุงูุฃุฌูุฏุงุช" ุฃู ุงูููู ุงููุคุซุฑุฉุ ููู ูููุง ูุตุงูุญูุง ูุงุณุชุฑุงุชูุฌูุงุชูุง.</p>
            <div class="bg-white p-6 rounded-xl shadow-xl">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="border border-indigo-200 p-4 rounded-lg hover:shadow-md transition-shadow">
                        <h4 class="font-bold text-xl text-indigo-700 mb-2">๐ฏ ุงูุฃุฌูุฏุฉ ุงูุชุฌุงุฑูุฉ/ุงูุตูุงุนูุฉ</h4>
                        <p class="text-sm text-gray-600"><strong>ุงููุงุนููู:</strong> ุดุฑูุงุช ุงูุฅุจุงุญูุฉุ ุตูุงุนุฉ ุงูุฃูุนุงุจ ุงูุฌูุณูุฉ.<br><strong>ุงูุงุณุชุฑุงุชูุฌูุงุช:</strong> ุงูุชุณูููุ ุงูุชุทุจูุนุ ุงูุงุจุชูุงุฑ ุงูุชูููููุฌู.<br><strong>ุงูุชุฃุซูุฑ:</strong> ุฒูุงุฏุฉ ุงูุงุณุชููุงูุ ุชุญููู ุงูุฃุฑุจุงุญ.</p>
                    </div>
                    <div class="border border-orange-200 p-4 rounded-lg hover:shadow-md transition-shadow">
                        <h4 class="font-bold text-xl text-orange-700 mb-2">๐ ุฃุฌูุฏุฉ ุงูุชุทุจูุน ุงูุซูุงูู</h4>
                        <p class="text-sm text-gray-600"><strong>ุงููุงุนููู:</strong> ูุณุงุฆู ุงูุฅุนูุงูุ ุจุนุถ ูุทุงุนุงุช ุงูุฅูุชุฑูุชุ ุตูุงุนุฉ ุงูุฅุจุงุญูุฉ.<br><strong>ุงูุงุณุชุฑุงุชูุฌูุงุช:</strong> "ุฅุจุงุญุฉ" ุงูุฅุนูุงูุ ุฑุณุงุฆู ุฅูุฌุงุจูุฉุ ุณูููุฉ ุงููุตูู.<br><strong>ุงูุชุฃุซูุฑ:</strong> ุฒูุงุฏุฉ ุงููุจููุ ุงูุฎูุงุถ ุงูุงุนุชุฑุงุถุงุช ุงูุฃุฎูุงููุฉ.</p>
                    </div>
                    <div class="border border-blue-200 p-4 rounded-lg hover:shadow-md transition-shadow">
                        <h4 class="font-bold text-xl text-blue-700 mb-2">๐ป ุฃุฌูุฏุฉ ูุดุฑ ุงูุฅุนูุงู ูุงูุชูููููุฌูุง</h4>
                        <p class="text-sm text-gray-600"><strong>ุงููุงุนููู:</strong> ุดุฑูุงุช ุงูุชูููููุฌูุงุ ููุตุงุช ุงูุชูุงุตู.<br><strong>ุงูุงุณุชุฑุงุชูุฌูุงุช:</strong> ุณูุงุณุงุช ุงูููุตุงุชุ ุงูุจูุฏ 230ุ ุฃุฏูุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู.<br><strong>ุงูุชุฃุซูุฑ:</strong> ูุดุฑ ุนุงููู ูููุญุชููุ ุชุดููู ุงููุนุงููุฑ.</p>
                    </div>
                    <div class="border border-pink-200 p-4 rounded-lg hover:shadow-md transition-shadow">
                        <h4 class="font-bold text-xl text-pink-700 mb-2">โ๏ธ ุงูุฃุฌูุฏุงุช ุงููุณููุฉ (ุงูููุฏ ูุงูุฏุนูุฉ)</h4>
                        <p class="text-sm text-gray-600"><strong>ุงููุงุนููู:</strong> ูุงุดุทุงุช ูุจุงุญุซุงุช ูุณููุงุช.<br><strong>ุงูุงุณุชุฑุงุชูุฌูุงุช:</strong> ููุฏ ุงูุงุณุชุบูุงูุ ุงูุฏุนูุฉ ูู"ุฅุจุงุญูุฉ ูุณููุฉ".<br><strong>ุงูุชุฃุซูุฑ:</strong> ุฒูุงุฏุฉ ุงููุนูุ ูุญุงููุฉ ุฎูู ุจุฏุงุฆู ุฃุฎูุงููุฉ.</p>
                    </div>
                    <div class="border border-green-200 p-4 rounded-lg hover:shadow-md transition-shadow">
                        <h4 class="font-bold text-xl text-green-700 mb-2">โ๏ธ ุฃุฌูุฏุฉ ููู ุงูุตุญุฉ ุงูุนุงูุฉ</h4>
                        <p class="text-sm text-gray-600"><strong>ุงููุงุนููู:</strong> ููุฆุงุช ุชุดุฑูุนูุฉุ ุณูุงุณูููุ ุฏุนุงุฉ ุตุญุฉ.<br><strong>ุงูุงุณุชุฑุงุชูุฌูุงุช:</strong> ูุฑุงุฑุงุช "ุฃุฒูุฉ ุตุญูุฉ"ุ ุฏุนูุงุช ููุจุญุซ ูุงูุชุซููู.<br><strong>ุงูุชุฃุซูุฑ:</strong> ููุงุด ุนุงูุ ุชุจุฑูุฑ ูุญุชูู ูููููุฏ.</p>
                    </div>
                     <div class="border border-purple-200 p-4 rounded-lg hover:shadow-md transition-shadow">
                        <h4 class="font-bold text-xl text-purple-700 mb-2">โ๏ธ ุฃุฌูุฏุฉ ุงูุชูุธูู ุงููุงูููู/ุงูุณูุงุณู</h4>
                        <p class="text-sm text-gray-600"><strong>ุงููุงุนููู:</strong> ูุดุฑุนููุ ุงููุธุงู ุงููุงูููู.<br><strong>ุงูุงุณุชุฑุงุชูุฌูุงุช:</strong> ููุงููู (ุญูุงูุฉ ุงููุตุฑุ ุงูุชุญูู ูู ุงูุนูุฑ)ุ ููุงุดุงุช ุงูุฑูุงุจุฉ.<br><strong>ุงูุชุฃุซูุฑ:</strong> ุญูุงูุฉ ุงููุตุฑุ ุชูุงุฒู ุจูู ุงูุญุฑูุฉ ูุงูุถุฑุฑ.</p>
                    </div>
                </div>
                <p class="text-center text-xs text-gray-500 mt-6">ูุณุชูุญู ูู ุงูุฌุฏูู 4 ูู ุงูุชูุฑูุฑ.</p>
            </div>
        </section>

        <section id="conclusion" class="my-16">
            <h2 class="section-title">ุงูุฎูุงุตุฉ ูุงูุชูุฌูุงุช ุงููุณุชูุจููุฉ</h2>
            <div class="card">
                <p class="text-lg text-gray-700 mb-4">ุชูุธูุฑ ุตูุงุนุฉ ุงููุญุชูู ุงูุฌูุณู ูุงูุฃูุนุงุจ ุงูุฌูุณูุฉ ููููุง ูุจูุฑูุง ูุชุทูุฑูุง ูุณุชูุฑูุงุ ูุฏููุนุฉ ุจููู ุชุฌุงุฑูุฉ ูุชูููููุฌูุฉ ูุซูุงููุฉ ูุนูุฏุฉ. ุงูุชุทุจูุน ุงููุชุฒุงูุฏุ ุฎุงุตุฉ ููุฅุจุงุญูุฉุ ูุณูู ุงููุตูู ูุงูุงุณุชููุงูุ ุจูููุง ุชุซูุฑ ุงูุชูููุงุช ุงูุฌุฏูุฏุฉ ูุซู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุฑุตูุง ูุชุญุฏูุงุช ุฃุฎูุงููุฉ ุฌุฏูุฏุฉ.</p>
                <p class="text-lg text-gray-700 mb-4">ูู ุงูููุงุจูุ ุชุชุตุงุนุฏ ุงูุฃุตูุงุช ุงูููุฏูุฉ ูู ูุฌูุงุช ูุธุฑ ูุณููุฉ ูุตุญูุฉ ุนุงูุฉุ ูุชุชุทูุฑ ุงูุฃุทุฑ ุงููุงููููุฉ ููุญุงููุฉ ููุงุฒูุฉ ุญุฑูุฉ ุงูุชุนุจูุฑ ูุน ููุน ุงูุถุฑุฑุ ุฎุงุตุฉ ุญูุงูุฉ ุงููุตุฑ. ุงููุณุชูุจู ุณูุดูุฏ ุนูู ุงูุฃุฑุฌุญ ุงุณุชูุฑุงุฑ ูุฐุง ุงูุชูุงุนู ุงูุฏููุงูููู ุจูู ุงูุงุจุชูุงุฑ ุงูุชุฌุงุฑูุ ูุงูุงุณุชุฌุงุจุงุช ุงููุฌุชูุนูุฉุ ูุงููุญุงููุงุช ุงูุชูุธูููุฉ.</p>
                <p class="text-lg text-gray-700">ูุจูู ููู ูุฐู ุงูุงุชุฌุงูุงุช ูุชุฃุซูุฑุงุชูุง ุงููุชุนุฏุฏุฉ ุฃูุฑูุง ุจุงูุบ ุงูุฃูููุฉ ููุฃูุฑุงุฏ ูุตูุงุน ุงูุณูุงุณุงุช ูุงูุจุงุญุซูู ุนูู ุญุฏ ุณูุงุกุ ูุถูุงู ุชุนุงูู ุฃูุซุฑ ูุนููุง ููุณุคูููุฉ ูุน ูุฐุง ุงููุดูุฏ ุงููุชุบูุฑ ุจุงุณุชูุฑุงุฑ.</p>
                <button id="generateFutureInsightsButton" class="gemini-button">โจ ุชูููุฏ ุชููุนุงุช ูุณุชูุจููุฉ ุฅุถุงููุฉ</button>
            </div>
        </section>
    </main>

    <footer class="footer">
        <p class="text-sm">ุฅูููุฌุฑุงููู ูุณุชูุญู ูู ุชูุฑูุฑ "ุงูุนุงุฏุฉ ุงูุณุฑูุฉ ูุฅุฏูุงู ุงูุฅุจุงุญูุฉ: ุงูุชุฃุซูุฑุงุช ุงูุดุงููุฉ ุนูู ุงูุฏูุงุบ ูุงูุฌุณู ูุงูุฃุฌูุฏุงุช ุงูุซูุงููุฉ ุงููุนุงุตุฑุฉ".</p>
        <p class="text-xs mt-1">ุชู ุฅูุดุงุก ูุฐุง ุงูุฅูููุฌุฑุงููู ูุฃุบุฑุงุถ ุชูุถูุญูุฉ ูุนุฑุถ ุงูุจูุงูุงุช.</p>
    </footer>

    <div id="geminiModal" class="modal">
        <div class="modal-content-wrapper">
            <div class="mt-3 text-center">
                <h3 class="modal-title" id="geminiModalTitle">โจ ุฌุงุฑู ุงูุชุญููู...</h3>
                <div class="modal-body">
                    <p id="geminiModalContent" class="whitespace-pre-wrap">ูุฑุฌู ุงูุงูุชุธุงุฑ ุจูููุง ูููู ุจุชูููุฏ ุงูุฑุฏ...</p>
                    <div id="geminiLoadingIndicator" class="mt-4">
                        <div class="loading-spinner"></div>
                    </div>
                </div>
                <div class="items-center px-4 py-3">
                    <button id="closeGeminiModalButton" class="modal-button">
                        ุฅุบูุงู
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
            }

            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth'
                        });
                        document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
                        this.classList.add('active');
                        if (mobileMenu && !mobileMenu.classList.contains('hidden')) {
                            mobileMenu.classList.add('hidden');
                        }
                    }
                });
            });
            
            function wrapLabels(label, maxWidth) {
                if (typeof label !== 'string' || label.length <= maxWidth) {
                    return label;
                }
                const words = label.split(' ');
                let lines = [];
                let currentLine = '';
                words.forEach(word => {
                    if ((currentLine + ' ' + word).trim().length > maxWidth && currentLine.length > 0) {
                        lines.push(currentLine.trim());
                        currentLine = word;
                    } else {
                        currentLine = (currentLine + ' ' + word).trim();
                    }
                });
                if (currentLine.length > 0) {
                    lines.push(currentLine.trim());
                }
                return lines;
            }

            const tooltipTitleCallback = (tooltipItems) => {
                const item = tooltipItems[0];
                let label = item.chart.data.labels[item.dataIndex];
                if (Array.isArray(label)) {
                    return label.join(' ');
                }
                return label;
            };

            try {
                const pornWebsiteCtx = document.getElementById('pornWebsitePercentageChart');
                if (pornWebsiteCtx) {
                    new Chart(pornWebsiteCtx, {
                        type: 'doughnut',
                        data: {
                            labels: [wrapLabels('ููุงูุน ุฅุจุงุญูุฉ', 16), wrapLabels('ููุงูุน ุฃุฎุฑู', 16)],
                            datasets: [{
                                label: 'ูุณุจุฉ ููุงูุน ุงูููุจ',
                                data: [12, 88], 
                                backgroundColor: ['#FF9800', '#2196F3'],
                                borderColor: ['#FFFFFF', '#FFFFFF'],
                                borderWidth: 2
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: { position: 'bottom', labels: { font: { family: 'Tajawal', size: 12 }, color: '#212121'}},
                                title: { display: false },
                                tooltip: { callbacks: { title: tooltipTitleCallback }, bodyFont: { family: 'Tajawal' }, titleFont: { family: 'Tajawal' }}
                            }
                        }
                    });
                }
            } catch (e) {
                console.error("Error initializing Porn Website Percentage Chart:", e);
            }

            try {
                const globalMarketCtx = document.getElementById('globalMarketGrowthChart');
                if (globalMarketCtx) {
                    new Chart(globalMarketCtx, {
                        type: 'line',
                        data: {
                            labels: ['2023', '2025', '2028', '2031', '2034'],
                            datasets: [{
                                label: wrapLabels('ุงููููุฉ ุงูุณูููุฉ (ูููุงุฑ ุฏููุงุฑ ุฃูุฑููู)', 20),
                                data: [287.8, 350, 450, 570, 706.2], 
                                borderColor: '#FF9800',
                                backgroundColor: 'rgba(255, 152, 0, 0.1)',
                                fill: true,
                                tension: 0.3
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            scales: {
                                y: { beginAtZero: false, title: { display: true, text: wrapLabels('ุงููููุฉ (ูููุงุฑ $)',16), font: { family: 'Tajawal' }, color: '#212121' }, ticks: { font: { family: 'Tajawal' }, color: '#212121' }},
                                x: { title: { display: true, text: wrapLabels('ุงูุณูุฉ',16), font: { family: 'Tajawal' }, color: '#212121' }, ticks: { font: { family: 'Tajawal' }, color: '#212121' }}
                            },
                            plugins: {
                                legend: { display: true, position: 'top', labels: { font: { family: 'Tajawal' }, color: '#212121' } },
                                tooltip: { callbacks: { title: tooltipTitleCallback }, bodyFont: { family: 'Tajawal' }, titleFont: { family: 'Tajawal' }}
                            }
                        }
                    });
                }
            } catch (e) {
                console.error("Error initializing Global Market Growth Chart:", e);
            }
            
            try {
                const youthAttitudesCtx = document.getElementById('youthAttitudesChart');
                if (youthAttitudesCtx) {
                    new Chart(youthAttitudesCtx, {
                        type: 'bar',
                        data: {
                            labels: [wrapLabels('ุงูุฌูู ุงูุฃูุจุฑ ุณูุงู', 16), wrapLabels('ุงูุดุจุงุจ ุงูุจุงูุบูู', 16)],
                            datasets: [{
                                label: wrapLabels('ูุณุจุฉ ูู ูุฑูู ุงูุฅุจุงุญูุฉ ุฎุทุฃ ุฃุฎูุงูููุง (ุชูุถูุญู)', 25),
                                data: [65, 35],
                                backgroundColor: ['#2196F3', '#FF9800'],
                                borderColor: ['#1A237E', '#E65100'],
                                borderWidth: 1
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            indexAxis: 'y',
                            scales: {
                                x: { beginAtZero: true, max: 100, title: { display: true, text: wrapLabels('ุงููุณุจุฉ ุงููุฆููุฉ (%)',16), font: { family: 'Tajawal' }, color: '#212121' }, ticks: { font: { family: 'Tajawal' }, color: '#212121' }},
                                y: { ticks: { font: { family: 'Tajawal', size: 10 }, color: '#212121' }}
                            },
                            plugins: {
                                legend: { display: false },
                                tooltip: { callbacks: { title: tooltipTitleCallback }, bodyFont: { family: 'Tajawal' }, titleFont: { family: 'Tajawal' }}
                            }
                        }
                    });
                }
            } catch (e) {
                console.error("Error initializing Youth Attitudes Chart:", e);
            }

            // Gemini API Integration
            const geminiModal = document.getElementById('geminiModal');
            const geminiModalTitle = document.getElementById('geminiModalTitle');
            const geminiModalContent = document.getElementById('geminiModalContent');
            const geminiLoadingIndicator = document.getElementById('geminiLoadingIndicator');
            const closeGeminiModalButton = document.getElementById('closeGeminiModalButton');
            const allGeminiButtons = document.querySelectorAll('.gemini-button');


            function showGeminiModal(title) {
                geminiModalTitle.textContent = title || 'โจ ุฑุคู ูู Gemini';
                geminiModalContent.innerHTML = ''; // Clear previous content
                geminiLoadingIndicator.classList.remove('hidden');
                geminiModal.classList.remove('hidden');
                allGeminiButtons.forEach(btn => btn.disabled = true);
            }

            function hideGeminiModal() {
                geminiModal.classList.add('hidden');
                allGeminiButtons.forEach(btn => btn.disabled = false);
            }

            closeGeminiModalButton.addEventListener('click', hideGeminiModal);

            async function callGeminiApi(promptText, modalTitleForDisplay) {
                showGeminiModal(modalTitleForDisplay);
                
                let chatHistory = [{ role: "user", parts: [{ text: promptText }] }];
                const payload = { contents: chatHistory };
                const apiKey = ""; 
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        let errorMsg = `ูุดู ุทูุจ ุงูู API ุจุงูุญุงูุฉ ${response.status}.`;
                        try {
                            const errorData = await response.json();
                            console.error('Gemini API Error Response:', errorData);
                            errorMsg += ` ${errorData.error?.message || 'ุฎุทุฃ ุบูุฑ ูุนุฑูู ูู ุงูุฎุงุฏู.'}`;
                        } catch (e) {
                            errorMsg += ` ${response.statusText || 'ุชุนุฐุฑ ุชุญููู ุฑุณุงูุฉ ุงูุฎุทุฃ ูู ุงูุฎุงุฏู.'}`;
                        }
                        throw new Error(errorMsg);
                    }

                    const result = await response.json();
                    
                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        geminiModalContent.textContent = text;
                    } else if (result.promptFeedback && result.promptFeedback.blockReason) {
                        console.error('Gemini API Prompt Feedback:', result.promptFeedback);
                        geminiModalContent.textContent = `ุชู ุญุธุฑ ุงูุทูุจ ุจุณุจุจ: ${result.promptFeedback.blockReason}. ูุฏ ูููู ุงูุณุจุจ ูุชุนูู ุจุณูุงุณุงุช ุงููุญุชูู.`;
                    }
                    else {
                        console.error('Unexpected Gemini API response structure:', result);
                        geminiModalContent.textContent = "ุนุฐุฑูุงุ ูู ูุชููู ูู ุงูุญุตูู ุนูู ุฑุฏ ููุณู ุจุดูู ุตุญูุญ. ูุฑุฌู ุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู.";
                    }
                } catch (error) {
                    console.error('Error calling Gemini API:', error);
                    geminiModalContent.textContent = `ุญุฏุซ ุฎุทุฃ: ${error.message}. ูุฑุฌู ุงูุชุญูู ูู ูุญุฏุฉ ุงูุชุญูู ููุฒูุฏ ูู ุงูุชูุงุตูู.`;
                } finally {
                    geminiLoadingIndicator.classList.add('hidden');
                    // Enable buttons only after modal is explicitly closed by user
                    // allGeminiButtons.forEach(btn => btn.disabled = false); // Moved to hideGeminiModal
                }
            }

            const generateFutureInsightsButton = document.getElementById('generateFutureInsightsButton');
            if (generateFutureInsightsButton) {
                generateFutureInsightsButton.addEventListener('click', () => {
                    const prompt = "Based on the current global adult entertainment market size of $287.8 billion in 2023, a projected CAGR of 8.6% until 2034, and emerging technologies like VR, AR, and AI, generate 2-3 bullet points on potential future trends or unaddressed opportunities in this market for the next 5-10 years. Focus on market and business aspects. Please provide the response in Arabic.";
                    callGeminiApi(prompt, 'โจ ุชููุนุงุช ูุณุชูุจููุฉ ุฅุถุงููุฉ');
                });
            }

            const geminiPromptButtons = document.querySelectorAll('button[data-gemini-prompt-key]');
            geminiPromptButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const promptKey = button.dataset.geminiPromptKey;
                    let promptText = "";
                    let modalTitle = "โจ ุดุฑุญ ุงูุงุชุฌุงู";

                    if (promptKey === 'internet_streaming_impact') {
                        promptText = "Explain the market impact of the internet and live streaming on the pornography industry in 2-3 concise sentences for a general audience. Please provide the response in Arabic.";
                        modalTitle = "โจ ุชุฃุซูุฑ ุงูุฅูุชุฑูุช ูุงูุจุซ ุงููุจุงุดุฑ";
                    } else if (promptKey === 'emerging_tech_impact') {
                        promptText = "Explain the potential market impact of emerging technologies like VR, AR, and AI on the pornography industry in 2-3 concise sentences for a general audience. Please provide the response in Arabic.";
                        modalTitle = "โจ ุชุฃุซูุฑ ุงูุชูููุงุช ุงููุงุดุฆุฉ";
                    }
                    
                    if(promptText) {
                        callGeminiApi(promptText, modalTitle);
                    }
                });
            });

        });
    </script>
</body>
</html>
